/*=============================================================================
  Masaki Chikashi Ghost Templates
  起動終了トーク辞書
  Last up date: 2018/03/15
=============================================================================*/

/*-----------------------------------------------------------------------------
  初回起動
-----------------------------------------------------------------------------*/
OnFirstBoot
{
	InitVar //変数初期化
	FirstBootTalk //起動トーク
}

/*-----------------------------------------------------------------------------
  変数初期値
-----------------------------------------------------------------------------*/

/*
username      : ユーザ名
usergender    : ユーザ性別
userfp        : ユーザ一人称
userbd        : ユーザ誕生日
firstBootTime : 初回起動時刻
*/

InitVar
{
	username      = 'あなた'
	usergender    = '男'
	userfp        = '私'
	userbd        = '1/1'
	sendsaidword  = 0
	firstboottime = GETTIME

	choose_user_gender   = GetGenderChoices('男')
	choose_talk_interval = GetTalkIntervalChoices('低')
	choose_send_saidword = GetSendSaidWordChoices('する')

	SetUserBirthday
	SetMood
}

SetMood {
  mood = RAND(10)+1
}

/*-----------------------------------------------------------------------------
  初回起動トーク
-----------------------------------------------------------------------------*/

FirstBootTalk
{
  InitVar
  --
	"\t\1\s[10]\0\s[0]"
	--
	"初回起動トーク。"
	--
	"\e"
}

/*-----------------------------------------------------------------------------
  起動
-----------------------------------------------------------------------------*/
OnInitialize {
  SetMood
}

OnBoot : nonoverlap
{
	if ( month == userBDmonth && day == userBDday )
	{
		event_ユーザ誕生日
	}
	else
	{
		OnBootTalk
	}
}

OnBootTalk : nonoverlap
{
	"\1\s[10]\0\s[0]"
	--
	"起動時トーク1。\e"
	"起動時トーク2。\e"
	"起動時トーク3。\e"
}

/*-----------------------------------------------------------------------------
  終了
  必ず最後に\-を入れること（記述がないとベースウェアによっては終了できなくなる）
-----------------------------------------------------------------------------*/
OnClose : nonoverlap
{
	"\1\s[10]\0\s[0]"
	--
	"終了時トーク1。"
	"終了時トーク2。"
	"終了時トーク3。"
	--
	"\_w[200]\-\e"
}

/*-----------------------------------------------------------------------------
  消滅指示
-----------------------------------------------------------------------------*/
OnVanishSelecting
{
	"\1\s[10]\0\s[0]消滅指示された。\e"
}

/*-----------------------------------------------------------------------------
  消滅中止（確認ダイアログでNO）
-----------------------------------------------------------------------------*/
OnVanishCancel
{
	"\1\s[10]\0\s[0]消滅中止された。\e"
}

/*-----------------------------------------------------------------------------
  ダブルクリックで消滅中止
-----------------------------------------------------------------------------*/
OnVanishButtonHold
{
	"\1\s[10]\0\s[0]ダブルクリックで消滅中止された。\e"
}

/*-----------------------------------------------------------------------------
  消滅実行
-----------------------------------------------------------------------------*/
OnVanishSelected
{
	"\1\s[10]\0\s[0]消滅実行されます。\e"
}

/*-----------------------------------------------------------------------------
  消滅したゴーストから交代
-----------------------------------------------------------------------------*/
OnVanished
{
	"\1\s[10]\0\s[0]消滅したゴーストから交代しました。\e"
}

/*-----------------------------------------------------------------------------
  他のゴーストから交代
-----------------------------------------------------------------------------*/
OnGhostChanged
{
	case reference[0] {
		when 'いぬ' {
			"\1\s[10]\0\s[0]特定のゴーストから交代した。\e"
		}
		others {
			"\1\s[10]\0\s[0]他のゴーストから交代した。\e"
		}
	}
}

/*-----------------------------------------------------------------------------
  他のゴーストへ交代
-----------------------------------------------------------------------------*/
OnGhostChanging
{
	"\1\s[10]\0\s[0]%(EscapeAllTags(reference[0]))に交代する。"
	--
	"\w9\w9\-\e"
}
